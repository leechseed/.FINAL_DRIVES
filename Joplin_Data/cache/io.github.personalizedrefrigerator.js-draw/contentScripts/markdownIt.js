(()=>{"use strict";var e={167:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t=e.querySelector("img");if(!t)return void console.warn("Freehand drawing plugin: No image found in container.");if(e.classList.contains("js-draw--editable"))return;e.classList.add("js-draw--editable");const a=e.getAttribute("data-js-draw-edit-label"),i=e.getAttribute("data-js-draw-content-script-id"),n=()=>{const e=t.src;webviewApi.postMessage(i,e).catch((t=>{console.error("Error posting message!",t,"\nMessage: ",e)}))},s=document.body.classList.contains("mce-content-body")||"tinymce"===document.body.id,r="undefined"!=typeof webviewApi;s?t.style.cursor="pointer":r&&(()=>{const t=document.createElement("button");t.textContent=`${a} ðŸ–Šï¸`,t.classList.add("jsdraw--editButton"),e.appendChild(t),t.onclick=()=>{n()}})(),t.ondblclick=n}},31:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLocales=t.setLocale=void 0;const a={insertDrawing:"Insert Drawing",insertDrawingInNewWindow:"Insert drawing in new window",restoreFromAutosave:"Restore from autosaved drawing",deleteAutosave:"Delete all autosaved drawings",noSuchAutosaveExists:"No autosave exists",discardChanges:"Discard changes",defaultImageTitle:"Freehand Drawing",edit:"Edit",close:"Close",saveAndClose:"Save and close",overwriteExisting:"Overwrite existing",saveAsNewDrawing:"Save as a new drawing",clickBelowToContinue:"Done! Click below to continue.",discardUnsavedChanges:"Discard unsaved changes?",resumeEditing:"Resume editing",saveAndResumeEditing:"Save and resume editing",saveChanges:"Save changes",exitInstructions:"All changes saved! Click below to exit.",settingsPaneDescription:"Settings for the Freehand Drawing image editor.",setting__disableFullScreen:"Dialog mode",setting__disableFullScreenDescription:"Enabling this setting causes the editor to only partially fill the Joplin window.",setting__autosaveIntervalSettingLabel:"Autosave interval (minutes)",setting__autosaveIntervalSettingDescription:'Adjusts how often a backup copy of the current drawing is created. The most recent autosave can be restored by searching for ":restore autosave" in the command palette (ctrl+shift+p or cmd+shift+p on MacOS) and clicking "Restore from autosaved drawing". If this setting is set to zero, autosaves are created every two minutes.',setting__themeLabel:"Theme",setting__toolbarTypeLabel:"Toolbar type",setting__toolbarTypeDescription:"This setting switches between possible toolbar user interfaces for the image editor.",setting__keyboardShortcuts:"Keyboard shortcuts",toolbarTypeDefault:"Default",toolbarTypeSidebar:"Sidebar",toolbarTypeDropdown:"Dropdown",styleMatchJoplin:"Match Joplin",styleJsDrawLight:"Light",styleJsDrawDark:"Dark",images:"Images",pdfs:"PDFs",allFiles:"All Files",loadLargePdf:e=>`A selected file is a large PDF (${e} pages). Loading it may take some time and increase the size of the current drawing. Continue?`,notAnEditableImage:(e,t)=>`Resource ${e} is not an editable image. Unable to edit resource of type ${t}.`},i={de:{insertDrawing:"Zeichnung einfÃ¼gen",restoreFromAutosave:"Automatische Sicherung wiederherstellen",deleteAutosave:"Alle automatischen Sicherungen lÃ¶schen",noSuchAutosaveExists:"Keine automatischen Sicherungen vorhanden",discardChanges:"Ã„nderungen verwerfen",defaultImageTitle:"Freihand-Zeichnen",edit:"Bearbeiten",close:"SchlieÃŸen",overwriteExisting:"Existierende Zeichnung Ã¼berschreiben",saveAsNewDrawing:"Als neue Zeichnung speichern",clickBelowToContinue:"Fertig! Klicke auf â€žOkâ€œ um fortzufahen.",discardUnsavedChanges:"Ungespeicherte Ã„nderungen verwerfen?",resumeEditing:"Bearbeiten fortfahren",notAnEditableImage:(e,t)=>`Die Ressource ${e} ist kein bearbeitbares Bild. Ressource vom Typ ${t} kann nicht bearbeitet werden.`},en:a,es:{insertDrawing:"AÃ±ada dibujo",restoreFromAutosave:"Resturar al autoguardado",deleteAutosave:"Borrar el autoguardado",noSuchAutosaveExists:"No autoguardado existe",discardChanges:"Descartar cambios",defaultImageTitle:"Dibujo",edit:"Editar",close:"Cerrar",saveAndClose:"Guardar y cerrar",overwriteExisting:"Sobrescribir existente",saveAsNewDrawing:"Guardar como dibujo nuevo",clickBelowToContinue:"Guardado. Ponga Â«okÂ» para continuar.",discardUnsavedChanges:"Â¿Descartar cambios no guardados?",resumeEditing:"Continuar editando",saveAndResumeEditing:"Guardar y continuar editando"},ro:{insertDrawing:"InsereazÄƒ un desen",insertDrawingInNewWindow:"InsereazÄƒ un desen Ã®ntr-o fereastrÄƒ nouÄƒ",restoreFromAutosave:"RestaureazÄƒ dintr-un desen salvat automat",deleteAutosave:"È˜terge toate desenele salvate automat",noSuchAutosaveExists:"Nicio salvare automatÄƒ nu existÄƒ",discardChanges:"AnuleazÄƒ modificÄƒrile",defaultImageTitle:"Desen liber",edit:"EditeazÄƒ",close:"ÃŽnchide",saveAndClose:"SalveazÄƒ È™i Ã®nchide",overwriteExisting:"Suprascrie existent",saveAsNewDrawing:"SalveazÄƒ ca desen nou",clickBelowToContinue:"Gata! FÄƒ clic mai jos pentru a continua.",discardUnsavedChanges:"Anulezi modificÄƒrile nesalvate?",resumeEditing:"ContinuÄƒ editarea",saveAndResumeEditing:"SalveazÄƒ È™i continuÄƒ editarea",saveChanges:"SalveazÄƒ modificÄƒrile",exitInstructions:"Toate modificÄƒrile au fost salvate! FÄƒ clic mai jos pentru a ieÈ™i.",settingsPaneDescription:"SetÄƒri pentru editorul de imagine liber.",setting__disableFullScreen:"Mod dialog",setting__disableFullScreenDescription:"Activarea acestei opÈ›iuni face ca editorul sÄƒ acopere doar parÈ›ial fereastra Joplin.",setting__autosaveIntervalSettingLabel:"Interval salvare automatÄƒ (minute)",setting__autosaveIntervalSettingDescription:'AjusteazÄƒ cÃ¢t de des se face o copie de siguranÈ›Äƒ a desenului curent. Cea mai recentÄƒ versiune salvatÄƒ automat poate fi restauratÄƒ cÄƒutÃ¢nd dupÄƒ ":restore autosave" Ã®n paleta de comenzi (Ctrl+Shift+P sau Cmd+Shift+P pe MacOS) È™i fÄƒcÃ¢nd clic pe â€žRestaureazÄƒ dintr-un desen salvat automatâ€. DacÄƒ acestÄƒ setare este 0, salvÄƒrile automate sunt create la fiecare 2 minute.',setting__themeLabel:"TemÄƒ",setting__toolbarTypeLabel:"Tip barÄƒ de instrumente",setting__toolbarTypeDescription:"AceastÄƒ setare comutÄƒ Ã®ntre posibilele interfeÈ›e pentru editorul de imagine.",setting__keyboardShortcuts:"ScurtÄƒturi de la tastaturÄƒ",toolbarTypeDefault:"Implicit",toolbarTypeSidebar:"BarÄƒ lateralÄƒ",toolbarTypeDropdown:"Casete derulante",styleMatchJoplin:"La fel ca Joplin",styleJsDrawLight:"LuminoasÄƒ",styleJsDrawDark:"ÃŽntunecatÄƒ",images:"Imagini",pdfs:"PDF-uri",allFiles:"Toate fiÈ™ierele",loadLargePdf:e=>`Un fiÈ™ier PDF selectat este un fiÈ™ier mare (${e} de pagini). ÃŽncÄƒrcarea lui ar putea dura ceva timp È™i sÄƒ creascÄƒ dimensiunea desenului curent. Continui?`,notAnEditableImage:(e,t)=>`Resursa ${e} nu este o imagine editabilÄƒ. Nu se poate edita resursa de tipul ${t}.`}};let n,s=[],r=!1;t.setLocale=e=>{"string"==typeof e&&(e=[e]),(e=>{const t=[...e];for(let a of e){a=a.replace("_","-");const e=a.indexOf("-");-1!==e&&t.push(a.substring(0,e))}for(const e of t)if(e in i){n=i[e];break}s=t})(e),r=!0},(0,t.setLocale)(navigator.languages),t.getLocales=()=>[...s],t.default=new Proxy(a,{get(e,t){var i;r||console.warn("Accessing language data without a localization set. The default Electron locale will be used.");const s=t;return null!==(i=null==n?void 0:n[s])&&void 0!==i?i:a[s]}})}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,a),s.exports}var i={};(()=>{var e=i;const t=a(167),n=a(31);e.default=({contentScriptId:e})=>({plugin:(a,i)=>{(0,n.setLocale)(i.settingValue("locale"));const s=a.renderer.rules.image;a.renderer.rules.image=(i,r,o,l,d)=>{var u;const c=null!==(u=null==s?void 0:s(i,r,o,l,d))&&void 0!==u?u:"";if(!/src\s*=\s*['"](file:[/][/]|jop[-a-zA-Z]+:[/][/])?[^'"]*[.]svg([?]t=\d+)?['"]/i.exec(null!=c?c:""))return c;const g=a.utils.escapeHtml(t.default.toString()),v=e=>JSON.stringify(a.utils.escapeHtml(e)),m=c.replace("<img ",`<img onload="(${g})(this.parentElement)" `);return["<span","\tclass='jsdraw--svgWrapper'",`\tdata-js-draw-edit-label=${v(n.default.edit)}`,`\tdata-js-draw-content-script-id=${v(e)}`,"\tcontentEditable='false'>",m,"</span>"].join("")}},assets:()=>[{name:"markdownIt.css"},{name:"markdownIt-content.js"}]})})(),exports.default=i.default})();